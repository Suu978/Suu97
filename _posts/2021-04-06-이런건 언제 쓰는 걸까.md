---
title: 이런건 언제 쓰는 걸까
categories: [java]
comments: true
---

```java
package chapter8;

import java.io.File;

public class Ex14 {

	public static void main(String[] args) {
		String path = "D:\\eclipse-workspace3\\2021-03-29\\src\\chapter8\\Ex13.java";
		String fileName = "Ex12.java";
		File file = new File(path, fileName);
		
		int position = fileName.lastIndexOf(".");
		
		System.out.println("경로를 제외한 파일이름 - " + fileName);
		// substring : 문자열을 자르는 메서드
		System.out.println("확장자를 제외한 파일이름 - " + fileName.substring(0, position));
		System.out.println("확장자 - " + fileName.substring(position + 1));
		System.out.println();
		
		System.out.println("경로를 포함한 파일 이름 - " + file.getPath());
		System.out.println("파일의 절대 경로 - " + file.getAbsolutePath());
		System.out.println("파일이 속해 있는 디렉토리 - " + file.getParent());
		System.out.println();
		
		System.out.println("user.dir - " + System.getProperty("user.dir"));
	}

}

```

```java
package chapter8;

import java.io.File;
import java.io.IOException;

public class Ex15 {

	public static void main(String[] args) {
		File file = new File("src\\chapter8\\test.java");
		
		/*
		 * exists -> 파일 또는 디렉토리의 존재 여부/ 존재 -  true, 존재하지 않음 - false
		 * isFile -> 해당 객체가 갖고 있는 정보가 파일의 정보라면 true, 디렉토리의 정보라면 false
		 */
		if(file.exists() == false || file.isFile() == false) {
			System.out.println("존재하지 않거나 파일이 아닙니다.");
			
			System.out.println("해당 경로에 파일을 생성합니다.");
			
			try {
				boolean resule = file.createNewFile();
				if(resule) {
					System.out.println("파일을 생성했습니다.");
				} else {
					System.out.println("파일을 생성하지 못했습니다.");
				}
			} catch (IOException e) {
				e.printStackTrace();
			}
			
		} else {
			System.out.println("존재합니다.");
			
		}
	}

}
```

```java
 package chapter8;

import java.io.File;
import java.util.HashMap;
import java.util.Map;

public class Ex17 {

	public static Map<String, Integer> printFileList(File dir) {
		
		/*
		 * listFiles -> 이 객체(dir)가 갖고 있는 디렉토리와 파일의 목록
		 */
		File[] files = dir.listFiles();
		
		/*
		 * 이 객체 내 디렉토리의 수
		 */
		int dirNum = 0;
		
		/*
		 * 이 객체 내 파일의 수
		 */
		int fileNum = 0;
		
		for (int i = 0; i < files.length; i++) {
			File file = files[i];
			String filename = file.getName();
			
			if(file.isDirectory()) {
				filename = "[" + filename + "]";
				dirNum++;
			} else {
				fileNum++;
			}
			System.out.println(filename);
		}
		
		Map<String, Integer> count = new HashMap<>();
		count.put("fileNum", fileNum);
		count.put("dirNum", dirNum);
		
		return count;
	}
	
	public static void main(String[] args) {
		File dir = new File("src\\chapter8");
		if(!dir.exists() || !dir.isDirectory()) {
			System.out.println("유효하지 않은 디렉토리입니다.");
			// exit -> 프로그램 종료 / 강제 종료의 느낌은 아님 정상 종료.
			System.exit(0);
		}
		
		System.out.println(dir.getAbsolutePath() + " 디렉토리");
		Map<String, Integer> count = printFileList(dir);
		
		System.out.println("총 " + count.get("fileNum") + "개의 파일");
		System.out.println("총 " + count.get("dirNum") + "개의 디렉토리");
	}

}
```
